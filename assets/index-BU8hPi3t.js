import{a as p,k as e}from"./index-CSBOzvo-.js";const T="_bottom_fixed_area_wekih_1",Q="_hide_wekih_10",j={bottom_fixed_area:T,hide:Q};function N({children:r,className:i}){const n=p.useRef(null),[v,m]=p.useState(!1);return p.useEffect(()=>{const E=n.current,{visualViewport:t}=window;if(!E||!t)return;let f=!1,c=!1,x=!1;const b=(l=0)=>{n.current&&(n.current.style.transform=`translateY(calc(-${l||0}px))`)},u=()=>{if(!t)return;const l=window.scrollY,d=Math.max(0,document.documentElement.clientHeight-window.innerHeight),y=x?window.innerHeight-(t.height+t.offsetTop-d):window.innerHeight-(t.height+t.offsetTop)+l;f&&b(y)};t==null||t.addEventListener("resize",u,{passive:!0}),t==null||t.addEventListener("scroll",u,{passive:!0}),u();let a=null;const g=()=>{x=document.documentElement.scrollHeight>window.innerHeight,f=!0,a&&clearTimeout(a),a=setTimeout(()=>{c=!0},300)},h=()=>{requestAnimationFrame(()=>b(0)),f=!1,c=!1,a&&clearTimeout(a)};window.addEventListener("focusin",g),window.addEventListener("focusout",h);let s=null;const _=l=>{var d;c&&(s&&clearTimeout(s),!((d=n.current)!=null&&d.contains(l.target))&&m(!0))},q=()=>{c&&(s&&clearTimeout(s),s=setTimeout(()=>m(!1),300))},L=()=>{c&&(s&&clearTimeout(s),m(!0),s=setTimeout(()=>m(!1),200))};return window.addEventListener("touchstart",_),window.addEventListener("touchend",q),window.addEventListener("scroll",L,{passive:!0}),()=>{t==null||t.removeEventListener("resize",u),t==null||t.removeEventListener("scroll",u),window.removeEventListener("focusin",g),window.removeEventListener("focusout",h),window.removeEventListener("touchstart",_),window.removeEventListener("touchend",q),window.removeEventListener("scroll",L)}},[]),e.jsx("div",{ref:n,className:[i,j.bottom_fixed_area,v&&j.hide].filter(Boolean).join(" "),children:r})}const S=(r,i)=>{localStorage.setItem(r,JSON.stringify(i))},k=r=>{try{return JSON.parse(localStorage.getItem(r)||"null")}catch(i){return console.error(i),null}},C="_container_dm3yu_1",H="_title_dm3yu_5",A="_description_dm3yu_11",B="_input_dm3yu_17",F="_button_dm3yu_30",I="_link_dm3yu_45",O="_long_content_dm3yu_52",Y="_cta_dm3yu_56",o={container:C,title:H,description:A,input:B,button:F,link:I,long_content:O,cta:Y},w="cta-long-content",R=function(){const[i,n]=p.useState(k(w));return e.jsxs("div",{className:o.container,children:[e.jsx("h1",{className:o.title,children:"Fixed CTA Button"}),e.jsx("p",{className:o.description,children:"This is a simple example of a fixed CTA button that is positioned above the keyboard on mobile devices."}),e.jsx("button",{type:"button",className:o.link,onClick:()=>{S(w,!i),n(!i)},children:"Toggle long content"}),e.jsx("input",{type:"text",className:o.input}),i&&e.jsx("div",{className:o.long_content,children:e.jsxs("p",{children:["Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos."]})}),e.jsx(N,{className:o.cta,children:e.jsx("button",{type:"button",className:o.button,onClick:()=>alert("submit"),children:"Submit"})})]})};export{R as component};
