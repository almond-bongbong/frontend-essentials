import{a as p,k as e}from"./index-BaX3h16d.js";const N="_bottom_fixed_area_1xgpw_1",S="_hide_1xgpw_9",v={bottom_fixed_area:N,hide:S};function H({children:r,className:i}){const n=p.useRef(null),[E,m]=p.useState(!1);return p.useEffect(()=>{const T=n.current,{visualViewport:t}=window,y=/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;if(!T||!t||!y)return;let g=!1,a=!1,x=!1;const b=(c=0)=>{n.current&&(n.current.style.transform=`translateY(-${c||0}px)`)},u=()=>{if(!t)return;const c=window.scrollY,d=Math.max(0,document.documentElement.clientHeight-window.innerHeight),Q=x?window.innerHeight-(t.height+t.offsetTop-d):window.innerHeight-(t.height+t.offsetTop)+c;g&&b(Q)};t==null||t.addEventListener("resize",u,{passive:!0}),t==null||t.addEventListener("scroll",u,{passive:!0}),u();let l=null;const h=()=>{x=document.documentElement.scrollHeight>window.innerHeight,g=!0,l&&clearTimeout(l),l=setTimeout(()=>{a=!0},500),u()},_=()=>{requestAnimationFrame(()=>b(0)),g=!1,a=!1,l&&clearTimeout(l)};window.addEventListener("focusin",h,{passive:!0}),window.addEventListener("focusout",_,{passive:!0});let s=null,f=!1;const L=c=>{var d;f=!0,a&&(s&&clearTimeout(s),!((d=n.current)!=null&&d.contains(c.target)||c.target instanceof HTMLInputElement)&&m(!0))},q=()=>{f=!1,a&&(s&&clearTimeout(s),s=setTimeout(()=>m(!1),100))},j=()=>{a&&(s&&clearTimeout(s),m(!0),!f&&(s=setTimeout(()=>m(!1),200)))};return window.addEventListener("touchstart",L,{passive:!0}),window.addEventListener("touchend",q,{passive:!0}),window.addEventListener("scroll",j,{passive:!0}),()=>{t==null||t.removeEventListener("resize",u),t==null||t.removeEventListener("scroll",u),window.removeEventListener("focusin",h),window.removeEventListener("focusout",_),window.removeEventListener("touchstart",L),window.removeEventListener("touchend",q),window.removeEventListener("scroll",j)}},[]),e.jsx("div",{ref:n,className:[i,v.bottom_fixed_area,E&&v.hide].filter(Boolean).join(" "),children:r})}const C=(r,i)=>{localStorage.setItem(r,JSON.stringify(i))},k=r=>{try{return JSON.parse(localStorage.getItem(r)||"null")}catch(i){return console.error(i),null}},A="_container_dm3yu_1",I="_title_dm3yu_5",O="_description_dm3yu_11",P="_input_dm3yu_17",B="_button_dm3yu_30",F="_link_dm3yu_45",Y="_long_content_dm3yu_52",K="_cta_dm3yu_56",o={container:A,title:I,description:O,input:P,button:B,link:F,long_content:Y,cta:K},w="cta-long-content",R=function(){const[i,n]=p.useState(k(w));return e.jsxs("div",{className:o.container,children:[e.jsx("h1",{className:o.title,children:"Fixed CTA Button"}),e.jsx("p",{className:o.description,children:"This is a simple example of a fixed CTA button that is positioned above the keyboard on mobile devices."}),e.jsx("button",{type:"button",className:o.link,onClick:()=>{C(w,!i),n(!i)},children:"Toggle long content"}),e.jsx("input",{type:"text",className:o.input}),i&&e.jsx("div",{className:o.long_content,children:e.jsxs("p",{children:["Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos."]})}),e.jsx(H,{className:o.cta,children:e.jsx("button",{type:"button",className:o.button,onClick:()=>alert("submit"),children:"Submit"})})]})};export{R as component};
