import{a as c,k as t}from"./index-oLje5kwl.js";const j=(s,o)=>{localStorage.setItem(s,JSON.stringify(o))},_=s=>{try{return JSON.parse(localStorage.getItem(s)||"null")}catch(o){return console.error(o),null}},L="_container_1swhl_1",v="_title_1swhl_5",Q="_description_1swhl_11",E="_input_1swhl_17",H="_cta_1swhl_30",N="_button_1swhl_40",$="_link_1swhl_56",S="_long_content_1swhl_63",T="_info_1swhl_67",i={container:L,title:v,description:Q,input:E,cta:H,button:N,link:$,long_content:S,info:T},x="cta-long-content";function y(){const s=window.visualViewport;if(!s)return{topGap:0,bottomGap:0};const o=s.offsetTop,r=window.innerHeight-s.height;return{topGap:o,bottomGap:r}}const G=function(){const o=c.useRef(null),[r,w]=c.useState(_(x)),[f,q]=c.useState("");return c.useEffect(()=>{if(!o.current)return;let u=!1,d=!1;function p(n=0){document.documentElement.style.setProperty("--kb-offset",`-${n}px`)}const{visualViewport:e}=window,l=()=>{if(!e)return;const n=window.scrollY,{topGap:a,bottomGap:m}=y(),g=a<m?a:m,h=window.innerHeight-(e.height+g),b=d?Math.max(0,h):h+n;q(`
         bottom: ${window.innerHeight} - (${e.height} + ${g}) = ${b}
         window.innerHeight: ${window.innerHeight}
         visualViewport.height: ${e.height}
         visualViewport.offsetTop: ${e.offsetTop}
         scrollY: ${n}
         scrollHeight: ${document.documentElement.scrollHeight}
         innerHeight + scrollY: ${window.innerHeight+n}
         vv.height + scrollY: ${e.height+n}
         viewportGap: ${a+m}
         scroll gap(bottom): ${document.documentElement.scrollHeight-(window.innerHeight+n)}  
        `.trim()),u&&p(b)};e&&(e.addEventListener("resize",l,{passive:!0}),e.addEventListener("scroll",l,{passive:!0}),l()),window.addEventListener("focusin",()=>{d=document.documentElement.scrollHeight>window.innerHeight,u=!0}),window.addEventListener("focusout",()=>{p(0),u=!1})},[]),t.jsxs("div",{className:i.container,children:[t.jsx("h1",{className:i.title,children:"Fixed CTA Button"}),t.jsx("p",{className:i.description,children:"This is a simple example of a fixed CTA button that is positioned above the keyboard on mobile devices."}),t.jsx("button",{type:"button",className:i.link,onClick:()=>{j(x,!r),w(!r)},children:"Toggle long content"}),t.jsx("input",{type:"text",className:i.input}),r&&t.jsx("div",{className:i.long_content,children:t.jsxs("p",{children:["Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),t.jsx("br",{}),t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),t.jsx("hr",{}),t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos."]})}),t.jsxs("div",{ref:o,className:i.cta,children:[t.jsx("div",{className:i.info,children:f}),t.jsx("button",{type:"button",className:i.button,children:"Submit"})]})]})};export{G as component};
