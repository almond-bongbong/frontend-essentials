import{a as l,k as t}from"./index-B154PrO7.js";const j=(o,s)=>{localStorage.setItem(o,JSON.stringify(s))},_=o=>{try{return JSON.parse(localStorage.getItem(o)||"null")}catch(s){return console.error(s),null}},v="_container_1swhl_1",L="_title_1swhl_5",H="_description_1swhl_11",$="_input_1swhl_17",Q="_cta_1swhl_30",E="_button_1swhl_40",T="_link_1swhl_56",N="_long_content_1swhl_63",S="_info_1swhl_67",i={container:v,title:L,description:H,input:$,cta:Q,button:E,link:T,long_content:N,info:S},b="cta-long-content";function y(){const o=window.visualViewport;if(!o)return{topGap:0,bottomGap:0};const s=o.offsetTop,r=window.innerHeight-o.height;return{topGap:s,bottomGap:r}}const G=function(){const s=l.useRef(null),[r,f]=l.useState(_(b)),[x,q]=l.useState("");return l.useEffect(()=>{if(!s.current)return;let a=!1,d=!1;function p(n=0){document.documentElement.style.setProperty("--kb-offset",`-${n}px`)}const{visualViewport:e}=window,m=()=>{if(!e)return;const n=window.scrollY,{topGap:c,bottomGap:u}=y(),g=c<u?c:u,h=window.innerHeight-(e.height+g),w=d?Math.max(0,h):h+n;q(`
         bottom: ${window.innerHeight} - (${e.height} + ${g}) = ${w}
         * clientHeight: ${document.documentElement.clientHeight}
         * window.innerHeight: ${window.innerHeight}
         window.outerHeight: ${window.outerHeight}
         visualViewport.height: ${e.height}
         visualViewport.offsetTop: ${e.offsetTop}
         * vv.height + vv.offsetTop: ${e.height+e.offsetTop}
         scrollY: ${n}
         scrollHeight: ${document.documentElement.scrollHeight}
         clientHeight + scrollY: ${document.documentElement.clientHeight+n} 
         innerHeight + scrollY: ${window.innerHeight+n}
         vv.height + scrollY: ${e.height+n}
         vv.top(offsetTop): ${c}
         vv.bottom(window.innerHeight - vv.height): ${u}
         viewportGap: ${c+u}
         scroll gap: ${document.documentElement.scrollHeight-(window.innerHeight+n)}  
        `.trim()),a&&p(w)};e&&(e.addEventListener("resize",m,{passive:!0}),e.addEventListener("scroll",m,{passive:!0}),m()),window.addEventListener("focusin",()=>{d=document.documentElement.scrollHeight>window.innerHeight,a=!0}),window.addEventListener("focusout",()=>{p(0),a=!1})},[]),t.jsxs("div",{className:i.container,children:[t.jsx("h1",{className:i.title,children:"Fixed CTA Button"}),t.jsx("p",{className:i.description,children:"This is a simple example of a fixed CTA button that is positioned above the keyboard on mobile devices."}),t.jsx("button",{type:"button",className:i.link,onClick:()=>{j(b,!r),f(!r)},children:"Toggle long content"}),t.jsx("input",{type:"text",className:i.input}),r&&t.jsx("div",{className:i.long_content,children:t.jsxs("p",{children:["Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),t.jsx("br",{}),t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),t.jsx("hr",{}),t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",t.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos."]})}),t.jsxs("div",{ref:s,className:i.cta,children:[t.jsx("div",{className:i.info,children:x}),t.jsx("button",{type:"button",className:i.button,children:"Submit"})]})]})};export{G as component};
