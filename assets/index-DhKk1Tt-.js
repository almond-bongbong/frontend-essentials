import{a as p,k as e}from"./index-CPbDQzMi.js";const Q="_bottom_fixed_area_1xgpw_1",N="_hide_1xgpw_9",w={bottom_fixed_area:Q,hide:N};function S({children:r,className:i}){const n=p.useRef(null),[E,m]=p.useState(!1);return p.useEffect(()=>{const y=n.current,{visualViewport:t}=window;if(!y||!t)return;let f=!1,u=!1,g=!1;const b=(l=0)=>{n.current&&(n.current.style.transform=`translateY(calc(-${l||0}px))`)},c=()=>{if(!t)return;const l=window.scrollY,d=Math.max(0,document.documentElement.clientHeight-window.innerHeight),T=g?window.innerHeight-(t.height+t.offsetTop-d):window.innerHeight-(t.height+t.offsetTop)+l;f&&b(T)};t==null||t.addEventListener("resize",c,{passive:!0}),t==null||t.addEventListener("scroll",c,{passive:!0}),c();let a=null;const _=()=>{g=document.documentElement.scrollHeight>window.innerHeight,f=!0,a&&clearTimeout(a),a=setTimeout(()=>{u=!0},500)},h=()=>{requestAnimationFrame(()=>b(0)),f=!1,u=!1,a&&clearTimeout(a)};window.addEventListener("focusin",_,{passive:!0}),window.addEventListener("focusout",h,{passive:!0});let s=null,x=!1;const q=l=>{var d;x=!0,u&&(s&&clearTimeout(s),!((d=n.current)!=null&&d.contains(l.target))&&m(!0))},L=()=>{x=!1,u&&(s&&clearTimeout(s),s=setTimeout(()=>m(!1),100))},j=()=>{u&&(s&&clearTimeout(s),m(!0),!x&&(s=setTimeout(()=>m(!1),200)))};return window.addEventListener("touchstart",q,{passive:!0}),window.addEventListener("touchend",L,{passive:!0}),window.addEventListener("scroll",j,{passive:!0}),()=>{t==null||t.removeEventListener("resize",c),t==null||t.removeEventListener("scroll",c),window.removeEventListener("focusin",_),window.removeEventListener("focusout",h),window.removeEventListener("touchstart",q),window.removeEventListener("touchend",L),window.removeEventListener("scroll",j)}},[]),e.jsx("div",{ref:n,className:[i,w.bottom_fixed_area,E&&w.hide].filter(Boolean).join(" "),children:r})}const C=(r,i)=>{localStorage.setItem(r,JSON.stringify(i))},H=r=>{try{return JSON.parse(localStorage.getItem(r)||"null")}catch(i){return console.error(i),null}},k="_container_dm3yu_1",A="_title_dm3yu_5",B="_description_dm3yu_11",F="_input_dm3yu_17",I="_button_dm3yu_30",O="_link_dm3yu_45",Y="_long_content_dm3yu_52",K="_cta_dm3yu_56",o={container:k,title:A,description:B,input:F,button:I,link:O,long_content:Y,cta:K},v="cta-long-content",z=function(){const[i,n]=p.useState(H(v));return e.jsxs("div",{className:o.container,children:[e.jsx("h1",{className:o.title,children:"Fixed CTA Button"}),e.jsx("p",{className:o.description,children:"This is a simple example of a fixed CTA button that is positioned above the keyboard on mobile devices."}),e.jsx("button",{type:"button",className:o.link,onClick:()=>{C(v,!i),n(!i)},children:"Toggle long content"}),e.jsx("input",{type:"text",className:o.input}),i&&e.jsx("div",{className:o.long_content,children:e.jsxs("p",{children:["Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.",e.jsx("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos."]})}),e.jsx(S,{className:o.cta,children:e.jsx("button",{type:"button",className:o.button,onClick:()=>alert("submit"),children:"Submit"})})]})};export{z as component};
